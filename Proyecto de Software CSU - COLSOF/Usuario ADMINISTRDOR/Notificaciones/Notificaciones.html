<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centro de Notificaciones Administrativas - CSU</title>
    <link rel="stylesheet" href="../Estilos.css">
    <link rel="stylesheet" href="Notificaciones.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo-wrap">
                <img class="logo" src="../LOGO_COLSOF.png" alt="Logo COLSOF" />
                <div class="brand">COLSOF S.A.S</div>
            </div>

            <div class="menu-label">Menu</div>
            <ul class="menu-list">
                <li class="menu-item"><a href="../Menu principal Admin.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path d="M3 10.5L12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5z" stroke="#0b3a66" stroke-width="1.5" fill="#e8f0fb"/>
                    </svg>
                    <span>Inicio</span>
                </a></li>
                <li class="menu-item"><a href="../Estadisticas/Estadisticas.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <rect x="3" y="13" width="6" height="8" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                      <rect x="9" y="3" width="6" height="18" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                      <rect x="15" y="9" width="6" height="12" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                    </svg>
                    <span>Estadísticas</span></a></li>
                <li class="menu-item"><a href="../Herramientas BD/Herramientas BD.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <ellipse cx="12" cy="6" rx="9" ry="4" fill="#fffde7" stroke="#fbc02d" stroke-width="1.5"/>
                      <path d="M3 6v12c0 2.21 4.03 4 9 4s9-1.79 9-4V6" stroke="#fbc02d" stroke-width="1.5" fill="none"/>
                    </svg>
                    <span>Herramientas BD</span></a></li>
                <li class="menu-item">
                  <details>
                    <summary>
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <circle cx="12" cy="8" r="4" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                        <path d="M4 20c0-3.31 3.58-6 8-6s8 2.69 8 6" stroke="#1976d2" stroke-width="1.5" fill="none"/>
                      </svg>
                      <span>Usuarios</span>
                      <span class="chev">▾</span>
                    </summary>
                    <ul class="sub-list">
                      <li><a href="../Creacion de usuarios.html">Registrar</a></li>
                      <li><a href="../Usuarios/Lista/Lista.html">Lista</a></li>
                      <li><a href="../Usuarios/Roles/Roles.html">Roles</a></li>
                      <li><a href="../Usuarios/Monitoreo/Monitoreo.html">Monitoreo</a></li>
                    </ul>
                  </details>
                </li>
                <li class="menu-item">
                  <details>
                    <summary>
                      <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <rect x="3" y="6" width="18" height="12" rx="2" fill="#fffde7" stroke="#fbc02d" stroke-width="1.5"/>
                        <circle cx="8" cy="12" r="2" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                        <rect x="13" y="10" width="5" height="2" rx="1" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                      </svg>
                      <span>Tecnico</span>
                      <span class="chev">▾</span>
                    </summary>
                    <ul class="sub-list">
                      <li><a href="../Tecnico/Casos/Casos.html">Casos</a></li>
                      <li><a href="../Tecnico/Evidencias/Evidencias.html">Evidencias</a></li>
                    </ul>
                  </details>
                </li>
                <li class="menu-item notif active">
                  <a href="#">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <path d="M12 22a2 2 0 002-2H10a2 2 0 002 2z" stroke="#111" stroke-width="1.2" fill="none"/>
                      <path d="M18 16v-5a6 6 0 10-12 0v5l-2 2h16l-2-2z" stroke="#111" stroke-width="1.2" fill="none"/>
                    </svg>
                    <span>Notificaciones</span> <span class="badge hidden" id="badgeNotif">0</span></a>
                </li>
                <li class="menu-item">
                  <a href="../Terminal/Terminal.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                      <circle cx="12" cy="12" r="3" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="#1976d2" stroke-width="1.2" fill="#e3f2fd"/>
                    </svg>
                    <span>Terminal</span></a>
                </li>
            </ul>

            <div class="sidebar-bottom"></div>
        </aside>

        <main class="main-content">
            <div class="top-header">
                <div class="header-left"></div>
                <div class="header-right">
                  <div class="profile">
                    <div class="avatar">
                      <img src="../LOGO_COLSOF.png" alt="Avatar" />
                    </div>
                    <div class="profile-info">
                      <div class="profile-name">AdminColsof</div>
                      <div class="profile-email">admincolsof@colsof.com.co</div>
                    </div>
                    <button class="profile-menu-btn" id="btnProfile">⋮</button>
                    <div class="profile-menu" id="menuProfile">
                      <button class="logout-btn" id="btnLogout">Cerrar sesión</button>
                    </div>
                  </div>
                </div>
            </div>

            <div class="notif-page">
                <div class="notif-container">
                    <!-- Header -->
                    <div class="header">
                        <div class="header-content">
                            <div class="header-left">
                                <div class="title-section">
                                    <div class="title-with-icon">
                                        <div class="bell-icon-container">
                                            <i class="fas fa-bell bell-icon"></i>
                                        </div>
                                        <h1>Centro de Notificaciones Administrativas</h1>
                                    </div>
                                    <p>Monitoreo y gestión de alertas del sistema</p>
                                </div>
                            </div>
                            <div class="header-right">
                                <button id="sendNotificationBtn" class="btn-primary">
                                    <i class="fas fa-plus"></i>
                                    Enviar Notificación
                                </button>
                            </div>
                        </div>
                    </div>

        <!-- Stats Cards -->
        <div class="stats-container">
            <div class="stat-card critical">
                <div class="stat-icon">
                    <i class="fas fa-exclamation-triangle"></i>
                </div>
                <div class="stat-details">
                    <div class="stat-label">Críticas</div>
                    <div class="stat-value" id="criticalCount">2</div>
                </div>
            </div>
            
            <div class="stat-card system">
                <div class="stat-icon">
                    <i class="fas fa-server"></i>
                </div>
                <div class="stat-details">
                    <div class="stat-label">Sistema</div>
                    <div class="stat-value" id="systemCount">4</div>
                    <div class="stat-subtext"><span id="systemNewCount">3</span> nuevas</div>
                </div>
            </div>
            
            <div class="stat-card users">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-details">
                    <div class="stat-label">Usuarios</div>
                    <div class="stat-value" id="usersCount">3</div>
                    <div class="stat-subtext"><span id="usersNewCount">2</span> nuevas</div>
                </div>
            </div>
            
            <div class="stat-card security">
                <div class="stat-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="stat-details">
                    <div class="stat-label">Seguridad</div>
                    <div class="stat-value" id="securityCount">1</div>
                </div>
            </div>
            
            <div class="stat-card database">
                <div class="stat-icon">
                    <i class="fas fa-database"></i>
                </div>
                <div class="stat-details">
                    <div class="stat-label">Base de Datos</div>
                    <div class="stat-value" id="databaseCount">1</div>
                </div>
            </div>
        </div>

        <!-- Main Content Tabs -->
        <div class="main-content">
            <!-- Tab Navigation -->
            <div class="tabs-header">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="system">
                        Notificaciones del Sistema
                        <span class="tab-count">4</span>
                    </button>
                    <button class="tab-btn" data-tab="users">
                        Actividad de Usuarios
                        <span class="tab-count">3</span>
                    </button>
                    <button class="tab-btn" data-tab="send">
                        Enviar Notificación
                    </button>
                </div>
            </div>

            <!-- System Tab Content -->
            <div id="systemTab" class="tab-content active">
                <div class="tab-actions">
                    <div class="filter-buttons">
                        <button class="filter-btn active">Todas</button>
                        <button class="filter-btn">Sin leer</button>
                        <button class="filter-btn">Críticas</button>
                    </div>
                    <button class="btn-mark-read">
                        Marcar todas como leídas
                    </button>
                </div>

                <!-- System Notifications List -->
                <div class="notifications-list" id="systemNotifications">
                    <!-- Las notificaciones del sistema se cargarán aquí dinámicamente -->
                </div>
            </div>

            <!-- Users Tab Content -->
            <div id="usersTab" class="tab-content">
                <div class="tab-actions">
                    <div class="filter-section">
                        <i class="fas fa-filter"></i>
                        <span class="filter-label">Filtrar por tipo:</span>
                        <button class="filter-btn active">Todas</button>
                        <button class="filter-btn">Registros</button>
                        <button class="filter-btn">Cambios</button>
                        <button class="filter-btn">Alertas</button>
                    </div>
                </div>

                <!-- User Notifications List -->
                <div class="notifications-list" id="userNotifications">
                    <!-- Las notificaciones de usuarios se cargarán aquí dinámicamente -->
                </div>
            </div>

            <!-- Send Tab Content -->
            <div id="sendTab" class="tab-content">
                <div class="send-notification-form">
                    <h2>Enviar Notificación a Usuarios</h2>
                    
                    <form id="notificationForm">
                        <div class="form-group">
                            <label for="recipients">Destinatarios</label>
                            <select id="recipients" class="form-control">
                                <option>Todos los usuarios</option>
                                <option>Solo Administradores</option>
                                <option>Solo Gestores</option>
                                <option>Solo Técnicos</option>
                                <option>Solo Empleados</option>
                                <option>Usuarios activos</option>
                                <option>Usuarios específicos...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="notificationType">Tipo de Notificación</label>
                            <select id="notificationType" class="form-control">
                                <option>Información</option>
                                <option>Advertencia</option>
                                <option>Importante</option>
                                <option>Mantenimiento programado</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="notificationTitle">Título</label>
                            <input type="text" id="notificationTitle" class="form-control" placeholder="Ej: Mantenimiento programado del sistema">
                        </div>
                        
                        <div class="form-group">
                            <label for="notificationMessage">Mensaje</label>
                            <textarea id="notificationMessage" class="form-control" rows="6" placeholder="Escribe el mensaje de la notificación..."></textarea>
                        </div>
                        
                        <div class="info-box">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <strong>Nota:</strong> Esta notificación será visible en el centro de notificaciones de todos los usuarios seleccionados. También se enviará un correo electrónico si está habilitado.
                            </div>
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" class="btn-cancel">Cancelar</button>
                            <button type="submit" class="btn-send">
                                <i class="fas fa-paper-plane"></i>
                                Enviar Notificación
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Modal para crear notificación -->
        <div id="notificationModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Enviar Notificación</h3>
                    <span class="modal-close">&times;</span>
                </div>
                <div class="modal-body">
                    <p>Esta funcionalidad abriría un formulario para crear una nueva notificación. En una implementación completa, se incluirían todos los campos necesarios para enviar notificaciones personalizadas.</p>
                </div>
            </div>
        </div>
            </div>

        </main>
    </div>

    <!-- JavaScript -->
    <script src="../scripts.js" defer></script>
    <script src="Notificaciones.js" defer></script>
</body>
</html>