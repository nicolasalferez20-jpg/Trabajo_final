<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Borradores - CSU</title>
    <link rel="stylesheet" href="../../Estilos.css">
    <link rel="stylesheet" href="Borradores.css">
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="sidebar-top">
                <div class="logo-wrap">
                    <img src="../../LOGO_COLSOF.png" alt="Logo" class="logo" aria-hidden="true" />
                    <h2 class="brand">COLSOF S.A.S</h2>
                </div>
                <p class="menu-label">Menu</p>
            </div>

            <ul class="menu-list">
                <li class="menu-item">
                    <a href="../../Menu principal.html">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M3 10.5L12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5z" stroke="#0b3a66" stroke-width="1.5" fill="#e8f0fb"/>
                        </svg>
                        <span>Inicio</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="../../estadisticas/Menu - Estadisticas.html">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <rect x="3" y="13" width="6" height="8" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <rect x="9" y="3" width="6" height="18" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <rect x="15" y="9" width="6" height="12" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                        </svg>
                        <span>Estadísticas</span>
                    </a>
                </li>
                <li class="menu-item">
                    <a href="../../notificaciones/Menu - Notificaciones.html" class="notif">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M12 22a2 2 0 002-2H10a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="#111" stroke-width="1.2" fill="none"/>
                        </svg>
                        <span>Notificaciones</span>
                    </a>
                </li>
                <li class="menu-item"><a href="../../reportes/Menu - Reportes.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M3 4h18v4H3zM3 10h18v4H3zM3 16h10v4H3z" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                    </svg>
                    <span>Reportes</span>
                </a></li>
                <li class="menu-item"><a href="../../herramientas/Menu - Herramientas.html">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <circle cx="12" cy="12" r="9" stroke="#0b3a66" stroke-width="1.4" fill="#eef4ff"/>
                        <path d="M12 7v5l4 2" stroke="#0b3a66" stroke-width="1.4"/>
                    </svg>
                    <span>Herramientas</span>
                </a></li>
                <li class="menu-item group">
                    <details>
                        <summary>
                            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <circle cx="12" cy="8" r="4" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                                <path d="M4 20c0-3.31 3.58-6 8-6s8 2.69 8 6" stroke="#1976d2" stroke-width="1.5" fill="none"/>
                            </svg>
                            <span>Gestores</span>
                            <span class="chev">▾</span>
                        </summary>
                        <ul class="sub-list">
                            <li><a href="../../Centro de costos/Centro de costos.html">Centro de costos</a></li>
                            <li><a href="../../Clientes/Clientes.html">Clientes</a></li>
                        </ul>
                    </details>
                </li>
                <li class="menu-item group">
                    <details open>
                        <summary>
                            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <rect x="3" y="6" width="18" height="12" rx="2" fill="#fffde7" stroke="#fbc02d" stroke-width="1.5"/>
                                <circle cx="8" cy="12" r="2" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                                <rect x="13" y="10" width="5" height="2" rx="1" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                            </svg>
                            <span>Casos</span>
                            <span class="chev">▾</span>
                        </summary>
                        <ul class="sub-list">
                            <li><a href="../Mis Casos/Mis Casos.html">Mis Casos</a></li>
                            <li><a href="../Por Cerrar/Por Cerrar.html">Por cerrar</a></li>
                            <li><a href="../Asignados/Asignados.html">Asignados</a></li>
                            <li><a href="../Sin Asignar/Sin Asignar.html">Sin Asignar</a></li>
                            <li><a href="Borradores.html" class="active">Borradores</a></li>
                        </ul>
                    </details>
                </li>
                <li class="menu-item">
                    <a href="../../configuracion/Menu - Configuracion.html">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <circle cx="12" cy="12" r="3" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1z" stroke="#1976d2" stroke-width="1.2" fill="#e3f2fd"/>
                        </svg>
                        <span>Configuración</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-bottom"></div>
        </nav>

        <main class="main-content">
            <div class="top-header">
                <div class="header-left">
                    <div class="header-spacer"></div>
                </div>
                <div class="header-right">
                    <div class="profile">
                        <div class="avatar"><img src="../../LOGO_COLSOF.png" alt="avatar" /></div>
                        <div class="profile-info">
                            <div class="profile-name">Juan Pérez</div>
                            <div class="profile-email">JPerez@colsof.com.co</div>
                        </div>
                        <button class="profile-menu-btn" title="Opciones">▾</button>
                        <div class="profile-menu">
                            <button class="logout-btn">Cerrar sesión</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="case-card">
                <header class="header">
                    <div class="header-content">
                        <div class="header-left">
                            <div class="header-icon drafts-icon">
                                <i data-lucide="file-edit" class="header-icon-svg"></i>
                            </div>
                            <div>
                                <h1 class="header-title">Borradores</h1>
                                <p class="header-subtitle">Casos guardados en borrador pendientes de publicación</p>
                            </div>
                        </div>
                        <div class="header-right">
                            <div class="header-stats">
                                <p class="stats-label">Borradores guardados</p>
                                <p class="stats-value" id="drafts-count">7</p>
                            </div>
                        </div>
                    </div>
                </header>

                <div class="content-area">
                    <div class="info-banner">
                        <div class="info-content">
                            <i data-lucide="alert-circle" class="info-icon"></i>
                            <div>
                                <h3 class="info-title">Información sobre borradores</h3>
                                <p class="info-message">
                                    Los borradores te permiten guardar casos incompletos para continuar más tarde. 
                                    Completa todos los campos requeridos (mínimo 80% de completitud) antes de publicar como caso activo.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-header">
                                <p class="stat-label">Total Borradores</p>
                                <i data-lucide="file-edit" class="stat-icon stat-icon-gray"></i>
                            </div>
                            <p class="stat-value" id="total-drafts">7</p>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <p class="stat-label">Listos para Publicar</p>
                                <i data-lucide="check-circle" class="stat-icon stat-icon-green"></i>
                            </div>
                            <p class="stat-value ready-count" id="ready-count">2</p>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <p class="stat-label">En Progreso</p>
                                <i data-lucide="clock" class="stat-icon stat-icon-yellow"></i>
                            </div>
                            <p class="stat-value progress-count" id="progress-count">3</p>
                        </div>

                        <div class="stat-card">
                            <div class="stat-header">
                                <p class="stat-label">Incompletos</p>
                                <i data-lucide="alert-circle" class="stat-icon stat-icon-red"></i>
                            </div>
                            <p class="stat-value incomplete-count" id="incomplete-count">2</p>
                        </div>
                    </div>

                    <div class="search-bar">
                        <div class="search-container">
                            <i data-lucide="search" class="search-icon"></i>
                            <input type="text" placeholder="Buscar en borradores..." class="search-input" id="search-input" />
                        </div>
                    </div>

                    <div class="drafts-list" id="drafts-list"></div>
                </div>

                <div class="modal-overlay" id="detail-modal">
                    <div class="modal">
                        <div class="modal-header">
                            <div class="modal-title-section">
                                <div class="modal-title-row">
                                    <h2 class="modal-title" id="modal-draft-id">DRAFT-001</h2>
                                    <span class="priority-badge" id="modal-priority">Alta</span>
                                </div>
                                <h3 class="modal-subtitle" id="modal-draft-title">Actualización servidores Datacenter</h3>
                            </div>
                            <button class="modal-close" id="close-detail-modal">✕</button>
                        </div>

                        <div class="modal-body">
                            <div class="completeness-section">
                                <div class="completeness-header">
                                    <p class="completeness-label">Progreso de Completitud</p>
                                    <p class="completeness-value" id="modal-completeness">75%</p>
                                </div>
                                <div class="completeness-bar">
                                    <div class="completeness-fill" id="modal-completeness-bar"></div>
                                </div>
                            </div>

                            <div class="missing-fields-section" id="modal-missing-fields"></div>

                            <div class="details-grid">
                                <div class="detail-item">
                                    <p class="detail-label">Cliente</p>
                                    <p class="detail-value" id="modal-client">ECOPETROL</p>
                                </div>
                                <div class="detail-item">
                                    <p class="detail-label">Categoría</p>
                                    <p class="detail-value" id="modal-category">HARDWARE</p>
                                </div>
                                <div class="detail-item">
                                    <p class="detail-label">Creado</p>
                                    <p class="detail-value" id="modal-created">10 Ene 2025, 14:30</p>
                                </div>
                                <div class="detail-item">
                                    <p class="detail-label">Última Modificación</p>
                                    <p class="detail-value" id="modal-modified">Hace 1 hora</p>
                                </div>
                                <div class="detail-item">
                                    <p class="detail-label">Contacto</p>
                                    <p class="detail-value" id="modal-contact">María Rodríguez</p>
                                </div>
                                <div class="detail-item">
                                    <p class="detail-label">Teléfono</p>
                                    <p class="detail-value" id="modal-phone">+57 310 456 7890</p>
                                </div>
                            </div>

                            <div class="description-section" id="modal-description-section"></div>
                            <div class="notes-section" id="modal-notes-section"></div>
                        </div>

                        <div class="modal-footer">
                            <button class="btn btn-primary" id="continue-editing-btn">Continuar Editando</button>
                            <button class="btn btn-success" id="publish-draft-btn">Publicar Caso</button>
                            <button class="btn btn-outline" id="close-modal-btn">Cerrar</button>
                        </div>
                    </div>
                </div>

                <div class="modal-overlay" id="delete-modal">
                    <div class="delete-modal">
                        <div class="delete-modal-content">
                            <div class="delete-modal-header">
                                <div class="delete-icon">
                                    <i data-lucide="trash-2" class="delete-icon-svg"></i>
                                </div>
                                <div>
                                    <h3 class="delete-title">Eliminar Borrador</h3>
                                    <p class="delete-subtitle">Esta acción no se puede deshacer</p>
                                </div>
                            </div>
                            <p class="delete-message">
                                ¿Estás seguro que deseas eliminar el borrador <strong id="delete-draft-id">DRAFT-001</strong>?
                                <br />
                                <span class="delete-draft-title" id="delete-draft-title">Actualización servidores Datacenter</span>
                            </p>
                            <div class="delete-modal-footer">
                                <button class="btn btn-outline" id="cancel-delete-btn">Cancelar</button>
                                <button class="btn btn-danger" id="confirm-delete-btn">Eliminar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script>
        // Inicializar íconos de Lucide
        lucide.createIcons();
    </script>
    <script src="Borradores.js"></script>
</body>
</html>