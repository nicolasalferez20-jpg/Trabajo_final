<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CSU - Estadísticas y Métricas</title>
    <link rel="stylesheet" href="../Estilos.css" />
    <link rel="stylesheet" href="ESTADISTICA.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <!-- Menú lateral -->
        <nav class="sidebar">
            <div class="sidebar-top">
                <div class="logo-wrap">
                    <img src="../LOGO_COLSOF.png" alt="Logo" class="logo" aria-hidden="true" />
                    <h2 class="brand">COLSOF S.A.S</h2>
                </div>
                <p class="menu-label">Menu</p>
            </div>

            <ul class="menu-list">
                <li class="menu-item">
                    <a id="link-inicio" href="../Menu principal.html">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M3 10.5L12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V10.5z" stroke="#0b3a66" stroke-width="1.5" fill="#e8f0fb"/>
                        </svg>
                        <span>Inicio</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="#">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <rect x="3" y="13" width="6" height="8" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <rect x="9" y="3" width="6" height="18" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <rect x="15" y="9" width="6" height="12" rx="1.5" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                        </svg>
                        <span>Estadísticas</span>
                    </a>
                </li>

                <li class="menu-item">
                    <a href="#" class="notif">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <path d="M15 17h5l-1.7-2.55A7 7 0 0 1 17 11V9a5 5 0 1 0-10 0v2a7 7 0 0 1-1.3 3.45L4 17h5" stroke="#0b3a66" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M9 17a3 3 0 0 0 6 0" stroke="#0b3a66" stroke-width="1.6" stroke-linecap="round"/>
                        </svg>
                        <span>Notificaciones</span>
                        <span class="badge">10</span>
                    </a>
                </li>

                <li class="menu-item"><a href="#">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <path d="M3 4h18v4H3zM3 10h18v4H3zM3 16h10v4H3z" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                    </svg>
                    <span>Reportes</span>
                </a></li>

                <li class="menu-item"><a href="#">
                    <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                        <circle cx="12" cy="12" r="9" stroke="#0b3a66" stroke-width="1.4" fill="#eef4ff"/>
                        <path d="M12 7v5l4 2" stroke="#0b3a66" stroke-width="1.4"/>
                    </svg>
                    <span>Herramientas</span>
                </a></li>

                <li class="menu-item group">
                    <details>
                        <summary>
                            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <circle cx="12" cy="8" r="4" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                                <path d="M4 20c0-3.31 3.58-6 8-6s8 2.69 8 6" stroke="#1976d2" stroke-width="1.5" fill="none"/>
                            </svg>
                            <span>Gestores</span>
                            <span class="chev">▾</span>
                        </summary>
                        <ul class="sub-list">
                            <li><a href="#">centro de costos</a></li>
                            <li><a href="#">Clientes</a></li>
                        </ul>
                    </details>
                </li>

                <li class="menu-item group">
                    <details open>
                        <summary>
                            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                <rect x="3" y="6" width="18" height="12" rx="2" fill="#fffde7" stroke="#fbc02d" stroke-width="1.5"/>
                                <circle cx="8" cy="12" r="2" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                                <rect x="13" y="10" width="5" height="2" rx="1" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.2"/>
                            </svg>
                            <span>Casos</span>
                            <span class="chev">▾</span>
                        </summary>
                        <ul class="sub-list">
                            <li><a href="#">Mis Casos</a></li>
                            <li><a href="#">Por cerrar</a></li>
                            <li><a href="#">Asignados</a></li>
                            <li><a href="#">Borradores</a></li>
                        </ul>
                    </details>
                </li>

                <li class="menu-item">
                    <a href="#">
                        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                            <circle cx="12" cy="12" r="3" fill="#e3f2fd" stroke="#1976d2" stroke-width="1.5"/>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.09a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.09a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.09a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z" stroke="#1976d2" stroke-width="1.2" fill="#e3f2fd"/>
                        </svg>
                        <span>Configuración</span>
                    </a>
                </li>
            </ul>

            <div class="sidebar-bottom"></div>
        </nav>

        <!-- Contenido principal -->
        <main class="main-content">
            <!-- Barra azul superior -->
            <div class="top-header">
                <div class="header-left"></div>
                <div class="header-right">
                    <div class="profile">
                        <div class="avatar"><img src="../LOGO_COLSOF.png" alt="avatar" /></div>
                        <div class="profile-info">
                            <div class="profile-name">Juan Pérez</div>
                            <div class="profile-email">JPerez@colsof.com.co</div>
                        </div>
                        <button class="profile-menu-btn" title="Opciones">&#x25BC;</button>
                        <div class="profile-menu">
                            <button class="logout-btn">Cerrar sesión</button>
                        </div>
                    </div>
                </div>
            </div>

            <section class="case-card">
                <div class="case-card-header">
                    <div>
                      <h1 class="page-title">Estadísticas y Métricas</h1>
                      <p>Análisis del desempeño del centro de soporte</p>
                    </div>
                    <div class="header-actions">
                        <select id="dateRange">
                            <option value="7days">Últimos 7 días</option>
                            <option value="30days" selected>Últimos 30 días</option>
                            <option value="3months">Últimos 3 meses</option>
                            <option value="year">Último año</option>
                        </select>
                        <button id="exportBtn" class="export-btn">⬇ Exportar Reporte</button>
                    </div>
                </div>

                <!-- KPI -->
                <section class="kpi-grid">
                    <div class="kpi-card">
                        <div class="kpi-icon icon-blue" aria-hidden="true">
                          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z" stroke="#1d4ed8" stroke-width="1.2" fill="#eaf2ff"/><path d="M12 7v6" stroke="#1d4ed8" stroke-width="1.6" stroke-linecap="round"/><circle cx="12" cy="17" r="1" fill="#1d4ed8"/></svg>
                        </div>
                        <div class="kpi-content">
                          <h4>Casos Totales</h4>
                          <span class="kpi-value">2,848</span>
                          <div class="kpi-trend negative">▾ <small>-14% vs mes anterior</small></div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon icon-green" aria-hidden="true">
                          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M20 6L9 17l-5-5" stroke="#16a34a" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                        <div class="kpi-content">
                          <h4>Tasa de Resolución</h4>
                          <span class="kpi-value">94.2%</span>
                          <div class="kpi-trend positive">▴ <small>+2.3% vs mes anterior</small></div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon icon-orange" aria-hidden="true">
                          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 8v5l3 2" stroke="#f97316" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
                        </div>
                        <div class="kpi-content">
                          <h4>Tiempo Promedio</h4>
                          <span class="kpi-value">2.5h</span>
                          <div class="kpi-trend positive">▴ <small>-15% vs mes anterior</small></div>
                        </div>
                    </div>

                    <div class="kpi-card">
                        <div class="kpi-icon icon-purple" aria-hidden="true">
                          <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M12 12a3 3 0 100-6 3 3 0 000 6z" stroke="#7c3aed" stroke-width="1.2" fill="#f3e8ff"/><path d="M5 20c0-3.5 3.6-6 7-6s7 2.5 7 6" stroke="#7c3aed" stroke-width="1.2" fill="none"/></svg>
                        </div>
                        <div class="kpi-content">
                          <h4>Satisfacción</h4>
                          <span class="kpi-value">96%</span>
                          <div class="kpi-trend positive">▴ <small>+1.2% vs mes anterior</small></div>
                        </div>
                    </div>
                </section>

                <!-- Charts -->
                <section class="charts-grid">
                    <div class="chart-card">
                        <h3>Tendencia Mensual de Casos</h3>
                        <canvas id="monthlyChart"></canvas>
                    </div>

                    <div class="chart-card">
                        <h3>Distribución por Categoría</h3>
                        <canvas id="categoryChart"></canvas>
                    </div>

                    <div class="chart-card">
                        <h3>Distribución por Prioridad</h3>
                        <canvas id="priorityChart"></canvas>
                    </div>

                    <div class="chart-card">
                        <h3>Casos por Hora del Día</h3>
                        <canvas id="hourChart"></canvas>
                    </div>
                </section>

                <!-- Tabla -->
                <section class="table-card">
                    <h3>Desempeño de Técnicos</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>TÉCNICO</th>
                                <th>CASOS RESUELTOS</th>
                                <th>TIEMPO PROMEDIO (HRS)</th>
                                <th>SATISFACCIÓN</th>
                                <th>TENDENCIA</th>
                            </tr>
                        </thead>
                        <tbody id="techTable"></tbody>
                    </table>
                </section>
            </section>
        </main>
    </div>

    <script src="ESTADISTICAS.js"></script>
</body>
</html>

